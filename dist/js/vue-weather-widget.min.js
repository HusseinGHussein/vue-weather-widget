!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VuePopper=t()}(this,function(){"use strict";window.jQuery||(window.jQuery=window.$=require("jquery"));var e={encodeQueryParam:function(e){return Object.keys(e).map(function(t){return[t,e[t]].map(encodeURIComponent).join("=")}).join("&")},darkSkyApi:function(e){var t="https://api.darksky.net/forecast/"+e.key+"/"+e.lat+","+e.lon+"?"+this.encodeQueryParam({units:e.units,lang:e.lang});return $.ajax({type:"GET",dataType:"jsonp",url:t,crossDomain:!0,xhrFields:{withCredentials:!1}})}};return{render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"weather-view"}})},staticRenderFns:[],name:"vue-weather-widget",props:{key:{type:String,required:!0},latitude:{type:String,required:!0},longitude:{type:String,required:!0},language:{type:String,default:"en",required:!1},units:{type:String,default:"us",required:!1},barColor:{type:String,default:"#333",required:!1},textColor:{type:String,default:"#333",required:!1},title:{type:String,default:"Weather",required:!1},hideHeader:{type:Boolean,default:!1,required:!1},font:{type:"String",default:null,required:!1},fontFaceName:{type:String,default:null,required:!1},fontFaceUrl:{type:String,default:null,required:!1}},computed:{options:function(){return{key:this.key,lat:this.latitude,lon:this.longitude,lang:this.language,name:this.title,units:this.units.toLowerCase(),hide_header:this.hideHeader,color:this.barColor,text_color:this.textColor,font:this.font,ff_name:this.fontFaceName,ff_url:this.fontFaceUrl,static_skycons:!0}}},mounted:function(){require("./embed"),setTimeout(loadWeather,100)},methods:{loadWeather:function(){if(ForecastEmbed){var t=this.options;t.lat&&t.lon||(t.title="Invalid Location"),ForecastEmbed.unit_labels[t.units]||(t.units="us");var n=new ForecastEmbed(t);n.elem.prependTo(document.getElementsByTagName("weather-view")),n.loading(!0),e.darkSkyApi(t).then(function(e){n.build(e),n.loading(!1)})}}}}});
